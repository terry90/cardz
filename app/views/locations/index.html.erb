<% content_for :banner do %>
    <%= render 'general/banner' %>
<% end %>

<div class="full-width-weighted center xlspace-t">
  <div class="cards-container uk-container-center uk-grid-width-1-1 uk-grid-width-xlarge-1-3 uk-grid-width-large-1-3 uk-grid-width-medium-1-3 uk-grid-width-small-1-2" data-uk-grid>
    <% titles = {} %>
    <% @locations.each_with_index do |location, i| %>
        <% titles["location-#{i}"] = location.formatted_name %>
        <%= render 'location', location: location, id: "location-#{i}" %>
    <% end %>
    <div>
      <%= link_to new_location_path do %>
          <div class="location add">
            <span>+</span>
          </div>
      <% end %>
    </div>
  </div>

  <!--TODO: To coffee-->
  <script type="text/javascript">
    $(function()
    {
      $('.redactor').each(function() {
        $(this).redactor({
          air: true,
          formattingAdd: {
            "white": {
              title: 'White',
              args: ['p', { 'class': 'white' }]
            }
          },
          autosave: $(this).data('url')
        });
      });
      UIkit.grid($('.cards-container'));
    });
  </script>
</div>